{"ast":null,"code":"var _jsxFileName = \"/home/coapr/development/projects/patent/client/src/components/Logout.js\";\nimport React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport useAxios from '../utils/useAxios'; // Use useAxios instead of axiosInstance\nimport { UserContext } from '../context/UserContext';\nfunction Logout() {\n  const {\n    logout\n  } = useContext(UserContext); // Access the logout function from UserContext\n  const navigate = useNavigate();\n  const axiosInstance = useAxios(); // Get the axios instance with token handling\n\n  const handleLogout = async () => {\n    try {\n      // Call the API to log out (if the backend supports logout endpoint)\n      await axiosInstance.post('/logout');\n\n      // Clear the tokens from localStorage\n      localStorage.removeItem('token');\n      localStorage.removeItem('refreshToken');\n\n      // Update the UserContext to reflect logout (clear user)\n      logout();\n\n      // Redirect to login page after successful logout\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout failed', error);\n\n      // Even if the API call fails, ensure the user is logged out locally\n      localStorage.removeItem('token');\n      localStorage.removeItem('refreshToken');\n      logout();\n      navigate('/login');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Are you sure you want to logout?\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Logout\"));\n}\nexport default Logout;","map":{"version":3,"names":["React","useContext","useNavigate","useAxios","UserContext","Logout","logout","navigate","axiosInstance","handleLogout","post","localStorage","removeItem","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/home/coapr/development/projects/patent/client/src/components/Logout.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport useAxios from '../utils/useAxios'; // Use useAxios instead of axiosInstance\nimport { UserContext } from '../context/UserContext';\n\nfunction Logout() {\n  const { logout } = useContext(UserContext); // Access the logout function from UserContext\n  const navigate = useNavigate();\n  const axiosInstance = useAxios(); // Get the axios instance with token handling\n\n  const handleLogout = async () => {\n    try {\n      // Call the API to log out (if the backend supports logout endpoint)\n      await axiosInstance.post('/logout');\n\n      // Clear the tokens from localStorage\n      localStorage.removeItem('token');\n      localStorage.removeItem('refreshToken');\n\n      // Update the UserContext to reflect logout (clear user)\n      logout();\n\n      // Redirect to login page after successful logout\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout failed', error);\n\n      // Even if the API call fails, ensure the user is logged out locally\n      localStorage.removeItem('token');\n      localStorage.removeItem('refreshToken');\n      logout();\n      navigate('/login');\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <h2>Are you sure you want to logout?</h2>\n      <button onClick={handleLogout} className=\"btn btn-danger\">\n        Logout\n      </button>\n    </div>\n  );\n}\n\nexport default Logout;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,QAAQ,MAAM,mBAAmB,CAAC,CAAC;AAC1C,SAASC,WAAW,QAAQ,wBAAwB;AAEpD,SAASC,MAAMA,CAAA,EAAG;EAChB,MAAM;IAAEC;EAAO,CAAC,GAAGL,UAAU,CAACG,WAAW,CAAC,CAAC,CAAC;EAC5C,MAAMG,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAMM,aAAa,GAAGL,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAElC,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF;MACA,MAAMD,aAAa,CAACE,IAAI,CAAC,SAAS,CAAC;;MAEnC;MACAC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChCD,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;;MAEvC;MACAN,MAAM,CAAC,CAAC;;MAER;MACAC,QAAQ,CAAC,QAAQ,CAAC;IACpB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;;MAErC;MACAF,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChCD,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;MACvCN,MAAM,CAAC,CAAC;MACRC,QAAQ,CAAC,QAAQ,CAAC;IACpB;EACF,CAAC;EAED,oBACEP,KAAA,CAAAe,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7BtB,KAAA,CAAAe,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,kCAAoC,CAAC,eACzCtB,KAAA,CAAAe,aAAA;IAAQQ,OAAO,EAAEd,YAAa;IAACO,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAElD,CACL,CAAC;AAEV;AAEA,eAAejB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}